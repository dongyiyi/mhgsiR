% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnose_mechanism_dual.R
\name{diagnose_mechanism_dual}
\alias{diagnose_mechanism_dual}
\title{Diagnose a Symbiotic Mechanism with Automated Method Selection}
\usage{
diagnose_mechanism_dual(
  observed_fingerprint,
  reference_library = mhgsiR::reference_fingerprints,
  method = c("auto", "cosine", "correlation", "euclidean"),
  correlation_type = c("pearson", "spearman", "kendall"),
  allow_rescale = FALSE,
  report = c("quiet", "message", "verbose")
)
}
\arguments{
\item{observed_fingerprint}{A 1-row tibble from `extract_fingerprint()`.}

\item{reference_library}{A data.frame of reference fingerprints. Defaults to `mhgsiR::reference_fingerprints`.}

\item{method}{The similarity metric. Defaults to `"auto"`, which performs a
concordance analysis and selects the best method. Other options are
`"cosine"`, `"correlation"`, and `"euclidean"`.}

\item{allow_rescale}{Logical. If FALSE (default), compares raw values. If TRUE,
applies z-score scaling. This setting is used by the chosen method.}
}
\value{
A list of class `mhgsi_diagnosis` containing:
  \item{summary}{A ranked tibble with the diagnostic results from the recommended method.}
  \item{concordance}{A summary of the auto-selection process, including the
    recommended method, reason, and agreement between all methods.}
  \item{all_results}{A list containing the full diagnosis tables for each method tested.}
}
\description{
The primary diagnostic function of the mhgsiR package. It compares an
observed fingerprint to a reference library and provides a ranked diagnosis.
The `method = "auto"` setting performs a robustness check across multiple
similarity metrics and recommends the most suitable one.
}
\details{
(The excellent "Choice Criteria" text you wrote will be placed here in the final documentation...)
}
\examples{
obs_fp <- extract_fingerprint(simulate_data("Defensive", is_stress = TRUE, seed = 101))
diagnosis <- diagnose_mechanism(obs_fp)
print(diagnosis)
plot(diagnosis)
}
